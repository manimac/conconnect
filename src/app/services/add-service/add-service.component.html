<body class="boarding-bg boarding-page-body" style="overflow-x:hidden">
  <app-header></app-header>

  <div class="container-fluid" style="background:#F3F2EF;display:flow-root;">
    <div class="container">
      <div class="break-height"></div>
      <div class="row">
        <div class="col-md-12">
          <div class="card">
            <!--{{newService.value | json}}-->
            <div class="card-body">
              <div class="cart-text"><h4 style="font: normal normal 600 1.5rem/1rem Open Sans;">Service posting</h4></div>
              <div class="break-height"></div>
              <div class="" *ngIf="isAddJobComponentLoaded">
                <form [formGroup]="newService" *ngIf="isCompanyAttach" (ngSubmit)="onSubmit()">
                  <div class="form-group">
                    <label for="exampleFormControlInput1">Service Title</label>
                    <input type="text" formControlName="serviceTitle" class="form-control" id="serviceTitle" name="serviceTitle" placeholder="Enter Service Title" [ngClass]="{'has-error': newService.get('serviceTitle').errors && (newService.get('serviceTitle').touched || newService.get('serviceTitle').dirty)}">
                    <span class="help-block" *ngIf="newService.get('serviceTitle').errors && (newService.get('serviceTitle').touched || newService.get('serviceTitle').dirty)">
                      <span class="text-danger" *ngIf="newService.get('serviceTitle').errors.required">
                        Title is required
                      </span>
                      <span class="text-danger" *ngIf="newService.get('serviceTitle').errors.maxlength || newService.get('serviceTitle').errors.minlength">
                        Please enter title min 2 to max 100 characters
                      </span>
                    </span>
                  </div>
                  <div class="form-group">
                    <label for="exampleFormControlSelect1">Company Name</label>
                    <input type="text" class="form-control" id="companyName" formControlName="companyName" placeholder="Enter Companyname">
                  </div>
                  <div class="form-group">
                    <label for="categoryType">Category</label>
                    <select class="form-control" formControlName="categoryType" id="categoryType" [ngClass]="{'has-error': newService.get('categoryType').errors && (newService.get('categoryType').touched || newService.get('categoryType').dirty)}">
                      <option value="" selected disabled hidden>Choose Category</option>
                      <option *ngFor="let x of categoryList" value="{{x.id}}">{{x.name}}</option>
                    </select>
                    <span class="help-block" *ngIf="newService.get('categoryType').errors && (newService.get('categoryType').touched || newService.get('categoryType').dirty)">
                      <span class="text-danger" *ngIf="newService.get('categoryType').errors.required">
                        Please choose any category
                      </span>
                    </span>
                  </div>

                  <div class="form-group">
                    <label for="serviceUrl">Service Url</label>
                    <input type="text" formControlName="serviceUrl" class="form-control" id="serviceUrl" name="serviceUrl" placeholder="Enter Service Url Eg: https://www.something.com" [ngClass]="{'has-error': newService.get('serviceUrl').errors && (newService.get('serviceUrl').touched || newService.get('serviceUrl').dirty)}">
                    <span class="help-block" *ngIf="newService.get('serviceUrl').errors && (newService.get('serviceUrl').touched || newService.get('serviceUrl').dirty)">
                      <span class="text-danger" *ngIf="newService.get('serviceUrl').errors.required">
                        Url is required
                      </span>
                      <span class="text-danger" *ngIf="newService.get('serviceUrl').errors.maxlength || newService.get('serviceUrl').errors.minlength">
                        Please enter Url min 2 to max 100 characters
                      </span>
                    </span>
                  </div>

                  <div class="form-group">
                    <div class="row">
                      <div class="col-md-12">
                        <label for="description">Description</label>
                        <textarea class="form-control" formControlName="description" id="jobDescription" rows="3" [ngClass]="{'has-error': newService.get('city').errors && (newService.get('description').touched || newService.get('description').dirty)}"></textarea>
                        <span class="help-block" *ngIf="newService.get('description').errors && (newService.get('description').touched || newService.get('description').dirty)">
                          <span class="text-danger" *ngIf="newService.get('description').errors.required">
                            Description is required
                          </span>
                          <span class="text-danger" *ngIf="newService.get('description').errors.maxlength || newService.get('description').errors.minlength">
                            Please enter description min 2 to max 500 characters
                          </span>
                        </span>
                      </div>                   
                    </div>
                  </div>

                  <div class="form-group">
                    <div class="row">
                      <!--<div class="col-md-6">
    <label for="location">Location</label>
    <input type="text" class="form-control" formControlName="location" id="location" placeholder="Enter Location" [ngClass]="{'has-error': newService.get('location').errors && (newService.get('location').touched || newService.get('location').dirty)}">
    <span class="help-block" *ngIf="newService.get('location').errors && (newService.get('location').touched || newService.get('location').dirty)">
      <span class="text-danger" *ngIf="newService.get('location').errors.required">
        Location is required
      </span>
      <span class="text-danger" *ngIf="newService.get('location').errors.maxlength || newService.get('location').errors.minlength">
        Please enter location min 2 to max 100 characters
      </span>
    </span>
  </div>-->
                      <div class="col-md-6">
                        <label for="zip">Zip Code</label>
                        <input type="text" class="form-control" pattern="[0-9]+" formControlName="zip" id="zip" placeholder="Enter Zip Code" [ngClass]="{'has-error':newService.get('zip').errors && (newService.get('zip').touched || newService.get('zip').dirty)}">

                        <span class="help-block" *ngIf="newService.get('zip').errors && (newService.get('zip').touched || newService.get('zip').dirty)">
                          <span class="text-danger" *ngIf="newService.get('zip').errors && (newService.get('zip').touched || newService.get('zip').dirty)">
                            zip code is required and it must be proper number
                          </span>
                          <span class="text-danger" *ngIf="newService.get('zip').errors.maxlength || newService.get('zip').errors.minlength">
                            Please enter zip code min and max 5 characters length
                          </span>
                        </span>
                      </div>
                      <div class="col-md-6">
                        <label for="city">City</label>
                        <input type="text" class="form-control" formControlName="city" id="city" placeholder="Enter City" [ngClass]="{'has-error': newService.get('city').errors && (newService.get('city').touched || newService.get('city').dirty)}">
                        <span class="help-block" *ngIf="newService.get('city').errors && (newService.get('city').touched || newService.get('city').dirty)">
                          <span class="text-danger" *ngIf="newService.get('city').errors.required">
                            City is required
                          </span>
                          <span class="text-danger" *ngIf="newService.get('city').errors.maxlength || newService.get('city').errors.minlength">
                            Please enter city min 2 to max 100 characters
                          </span>
                        </span>
                      </div>
                    </div>
                  </div>

                  <div class="form-group">
                    <div class="row">

                      <div class="col-md-6">
                        <label for="state">State</label>
                        <select class="form-control" formControlName="state" id="state" [ngClass]="{'has-error':newService.get('state').errors && (newService.get('state').touched || newService.get('state').dirty)}">
                          >
                          <option value="" selected disabled hidden>Choose any state</option>
                          <option *ngFor="let x of stateList | keyvalue" value="{{x.key}}">{{x.value}}</option>
                        </select>
                        <span class="help-block" *ngIf="newService.get('state').errors && (newService.get('state').touched || newService.get('state').dirty)">
                          <span class="text-danger" *ngIf="newService.get('state').errors.required">
                            Please choose any state
                          </span>
                        </span>
                      </div>
                      <div class="col-md-6">
                        <div class="boarding-pro-img-div mx-auto text-center">
                          <img src="{{company.Logo}}" alt="Service Logo" class="img-fluid" *ngIf="!defaultImageFlag_logo && company.Logo!=null" style="object-fit: cover; width: 170px;border-radius: 15px;" />

                          <div *ngIf="defaultImageFlag_logo">
                            <img [src]="compressResultImage_logo" alt="profile pic" class="img-fluid" style="object-fit: cover; width: 170px;border-radius: 15px;" />
                          </div>
                        </div>
                        <br />
                        <div class="fileUpload fileupload-responsive text-center" style="margin:0 auto">
                          <input type="file" formControlName="logo" (change)="onCompanyLogo($event)" class="upload w-100 pro-pic-chng-pic mx-auto" />
                          <span>Upload Service Image</span>
                        </div>
                      </div>

                    </div>
                  </div>

                  <!--<div class="form-group">
                    <div class="row">

                  
                      <div class="col-md-6">
                      </div>
                    </div>
                  </div>-->

                  <div class="text-right"> <button type="submit" class="btn btn-primary text-right" [disabled]="newService.invalid" *ngIf="!addServiceSubmitted">Submit</button> </div>

                  <div class="text-center mt-3" *ngIf="addServiceSubmitted">
                    <div class="spinner-border text-center" role="status">
                      <span class="sr-only">Loading...</span>
                    </div>
                  </div>

                </form>
              </div>
              <div class="text-center mt-3" *ngIf="!isAddJobComponentLoaded">
                <div class="spinner-border text-center" role="status">
                  <span class="sr-only">Loading...</span>
                </div>
              </div>
              <div *ngIf="!isCompanyAttach && isAddJobComponentLoaded" class="text-center">
                <p class="text-center">Please add company details into profile page and post the new service.</p>
              </div>

            </div>
          </div>
        </div>
      </div>

    </div>
  </div>

  <app-footer class="sub-page"></app-footer>
</body>


